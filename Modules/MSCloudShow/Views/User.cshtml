@using System.Web.Mvc;

<p>
  @if (WorkContext.CurrentUser != null) {
    @T("Welcome, <strong>{0}</strong>", new HtmlString(Html.ActionLink(Convert.ToString(Html.ItemDisplayText(WorkContext.CurrentUser)), "ChangePassword", new { Controller = "Account", Area = "Orchard.Users" }).ToString()))
    if (AuthorizedFor(Orchard.Security.StandardPermissions.AccessAdminPanel)) {
      @Html.ActionLink(T("| dashboard").ToString(), "Index", new { Area = "Dashboard", Controller = "Admin" })
      @Html.ActionLink(T("| sign out").ToString(), "LogOff", new { Controller = "Account", Area = "Orchard.Users", ReturnUrl = Context.Request.RawUrl }, new { rel = "nofollow" })
    }
  } else {
    @Html.ActionLink(T("«» ").ToString(), "LogOn", new { Controller = "Account", Area = "Orchard.Users", ReturnUrl = (Request.QueryString["ReturnUrl"] ?? Request.RawUrl) }, new { rel = "nofollow" })
  }
</p>
